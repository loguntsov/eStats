<html>
<body>
<h1>Отчеты</h1>
<p>Ниже представлен полный список отчетов с требуемыми обязательными параметрами.</p>
<h2>Формат запроса</h2>
<p>Запрос осуществляется путем посылки JSON определенного формата:
<pre>
{"module" : "__тип модуля, к которому осуществляем запрос__",
 "type" : "__тип отчета, который должен представить модуль__",
 "period" : [ период за который запрашиваем данные ] ,
 "query" : { параметры запроса, специфические для отчета указанного в type }
}
</pre>
<p>Для всех отчетов данные поля обязательны. Для всех отчетов указывается период дат (свойство period). Формат period может быть один из следующих:</p>
<ul>
    <li>
        "period" : "2013-01-31" -- запрос за одну дату
    </li>
    <li>
        "period" : [ "2013-01-31", ... , "2013-02-28" ] -- запрос за каждую из дат в списке
    </li>
    <li>
        "period" : { "begin" : "2013-01-31", "end": "2013-02-28" } -- запрос за период дат от begin до end.
    </li>
</ul>
<p>Для свойств в query допустимо указание в виде отдельного зачения ( например: 1) , либо в виде списка значений (например [ 1,2,3 ])
</p>
<h2>module: сount</h2>
<p>Реализует учет статистики кликов в разрезе дата-аффил-оффер</p>
<h3>type: affiliates_by_offer</h3>
<p>Отображает аггрегированный список аффилов по заданному списку офферов, которые лили на него трафик.</p>
<p>Обязательные параметры в query: offer_id</p>
<h3>type: offers_by_affiliate</h3>
<p>Отображает аггрегированный список офферов, на которые аффилы лили трафик</p>
<p>Обязательные параметры в query: affiliate_id</p>
<h3>type: affiliates_hour_count</h3>
<p>Отображает часовую статистику кликов в разрезе дата-оффер-аффил-час для заданных дат, офферов, аффилов. </p>
<p>Обязательные параметры в query: affiliate_id, offer_id</p>
<h3>type: affiliates_day_count</h3>
<p>Отображает дневную статистику кликов в разрезе дата-оффер-аффил-час для заданных дат, офферов, аффилов. </p>
<p>Обязательные параметры в query: affiliate_id, offer_id</p>

<h2>module: subid</h2>
<p>Реализует учет статистики приходящих с кликом subid в разрезе дата-аффил-оффер-индекс_subid</p>
<h3>type: list</h3>
<p>Отображает аггрегированный список соотвествий hash - значение subid для заданного разреза: период_дат-аффилы-офферы-индексы_subid</p>
<p>Обязательные параметры в query: affiliate_id, offer_id, index</p>
<h3>type: top</h3>
<p>Отображает аггрегированный список соотвествий hash -> [кол-во кликов всего, кол-во уникальных кликов ] c сортировкой по убыванию по параметру order_pos для заданного разреза: период_дат-аффилы-офферы-индексы_subid</p>
<p>Обязательные параметры в query: affiliate_id, offer_id, index, order_pos - позиция сортировки: 1 - сортируем по общему кол-ву кликов, 2 - по кол-ву уникальных кликов</p>
</body>
</html>
